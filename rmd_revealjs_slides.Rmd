---
title       : "Template for Reveal JS Slides"
author      : Apoorva Lal
institute   : Stanford University
date        : July 2018
width: 1920
height: 1080
output:
  revealjs::revealjs_presentation:
    self_contained: true
    theme: moon
    transition: slide
    center : true
    highlight : zenburn
    css: /home/alal/Templates/boilerplate/reveal_header.css
    reveal_options:
      slideNumber: true
      center : false
      help : true
      previewLinks: true
bibliography: /home/alal/Dropbox/MyLibrary2.bib
---
<style type="text/css">
  .reveal p {
    text-align: left;
  }
  .reveal ul {
    display: block;
  }
  .reveal ol {
    display: block;
  }
</style>

```{r setup, include=FALSE}
library(LalRUtils)
libreq(tidyverse,knitr,knitcitations)
knitr::opts_chunk$set(
  echo =    F,          # don't show code
  include = T,          # show output
  warning = F,       # don't show warnings
  message = F,       # don't show messages (less serious warnings)
  cache   = T,       # F unless runtime is very long
  # root.dir = 'location_of_dependencies'
  fig.align = "center"
)
```

# Introduction

## The Problem

Here is what I'm going to talk about

- point 1
- point 2
- point 3

---

## The Problem - dramatic

  > - point 1
  > - point 2
  > - point 3

## Literature

Cite a paper @ManningHealthinsurancedemand1987

---

## Empirics

I found some great data and ran some regressions

$$
Y_i = X_i^{T} \beta + \epsilon_i
$$

---

## Data

  > - Bullet 1 $\sum_{i=1}^n \alpha_i$
  > - Bullet 2
  > - Bullet 3

# R code

## Example R stuff

```{r cars}
summary(cars)
```

---

## Slide with Plot

```{r pressure}
plot(pressure)
```

---


## Another Plot

```{r plotit, echo=FALSE}
df <- data.frame(x = rnorm(1000))
x <- df$x
base <- ggplot(df, aes(x)) + geom_density() +
  scale_x_continuous(limits = c(-5, 5))
base + stat_function(fun = dnorm, colour = "red") + lal_plot_theme()
```

# Math

---

## Equality constraints

\[ \max f(x) \text{ s.t. } h(x) = c \]
where $f: \mathbb{R}^n \to \mathbb{R}$ and $h: \mathbb{R}^n \to \mathbb{R}^m$

---

## Equality constraints

Let $f:\mathbb{R}^n \to \mathbb{R}$ and $h: \mathbb{R}^n \to
\mathbb{R}^m$ be continuously differentiable. Suppose $x^*$ is a constrained
local maximizer of $f$ subject to $h(x) = c$. Also assume that
$Dh_{x^*}$ has rank $m$. Then there exists $\mu^* \in \mathbf{R}^m$ such
that $(x^*, \mu^*)$ is a critical point of the Lagrangian,
    $$
    L(x,\mu) = f(x) - \mu^T (h(x) - c).
    $$
i.e.
$$
\begin{aligned}
\frac{\partial L}{\partial x_i}(x^*,\mu^*) = & \frac{\partial
f}{\partial x_i} - {\mu^*}^T \frac{\partial h}{\partial
  x_i}(x^*) = 0 \\
 \frac{\partial L}{\partial \mu_j}(x^*,\mu^*) = & h(x^*) -
   c = 0
\end{aligned}
 $$
for $i = 1, ..., n$ and $j=1,...,m$.

---

## Inequality constraints

\[ \max_{x} f(x) \text{ s.t. } g(x) \leq b. \]

---

## Inequality constraints

Let $f:\mathbb{R}^n \to \mathbb{R}$ and $g: \mathbb{R}^n \to \mathbb{R}^m$ be continuously
differentiable. Suppose $x^*$ is a local maximizer of $f$ subject to
$g(x) \leq b$. Suppose that the first $k \leq m$ constraints, bind
\[ g_j(x^*) = b_j \]
for $j = 1 ... k$ and that the Jacobian for these constraints,
has rank $k$. Then, there exists
$\lambda^* \in \mathbb{R}^m$ such that for
\[ L(x,\lambda) = f(x) - \lambda^T (g(x) - b). \]
we have
$$
\begin{aligned}
\frac{\partial L}{\partial x_i}(x^*,\lambda^*) = & \frac{\partial
f}{\partial x_i} - {\lambda^*}^T \frac{\partial g}{\partial
x_i}(x^*) = 0 \\
\lambda_j^* \frac{\partial L}{\partial \lambda_j}(x^*,\lambda^*) =
    & \lambda_j^* \left(g_j(x^*) - b \right)= 0
\end{aligned}
$$

---

## Complementary slackness

For each $j$ if $\lambda_j^* > 0$ then $g_j(x^*) = b_j$ and if
  $g_j(x^*) < b$, then $\lambda_j^*=0$.

---
